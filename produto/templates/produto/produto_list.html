{% load static %}
{% load custom_filters %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lista clientes</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/forms.css' %}">
</head>
<body>
    {% include 'sidebar.html' with title_page='PRODUTO' %}
    <main
    style="display: flex; flex-direction: row ;justify-content: center; align-items: center; height: 90vh; flex-wrap: wrap;">
       {% for produto in produtos %}
       <div class="product-card"
     onClick="window.location.href='{% url 'editar_produto' produto.id %}'">
    <div class="product-image-container">
        <img src="{{ produto.url_imagem }}" alt="Produto GenÃ©rico" class="product-image">
        <div class="product-volume-overlay">
            <p class="product-volume">{{ produto.litragem|format_volume }}</p>
        </div>
    </div>
    <div class="product-info">
        <h2 class="product-name">{{ produto.nome }}</h2>
        <p class="product-price">
            R$ {{ produto.valor|floatformat:2 }}
        </p>                
    </div>
</div>
        {% endfor %} 
    </main>
    <script src="{% static 'js\formatacao.js' %}"></script>
    <script>
        
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.cpf').forEach(el => {
                el.textContent = formatarCpf(el.textContent);
            });

            document.querySelectorAll('.telefone').forEach(el => {
                el.textContent = formatarTelefone(el.textContent);
            });
        });
    </script>
</body>
</html>